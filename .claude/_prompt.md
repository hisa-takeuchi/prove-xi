# 背景
これから個人開発アプリを作ります。
機能要件やコンセプトなどは `.claude/00_project/01_appcadia_concept_requirements.md` にまとめてあります。

# 目的
開発を行う上で設計やルールを事前に決めておきたいです。

# 命令
参考情報をもとに、似たような構成で事前にドキュメントを作成してください。

# 参考情報
## 作成するドキュメントの全貌

まず、どんなドキュメントを作るのか、全体像をお見せします。

```
.claude/
├── 00_project/                    # プロジェクトの要件
│   ├── 01_appcadia_concept_requirements.md
│   └── 02_inception_deck.md
├── 01_development_docs/           # 技術設計ドキュメント（15個）
│   ├── 01_architecture_design.md
│   ├── 02_database_design.md
│   ├── 03_api_design.md
│   ├── 04_screen_transition_design.md
│   ├── 05_seo_requirements.md
│   ├── 06_error_handling_design.md
│   ├── 07_type_definitions.md
│   ├── 08_development_setup.md
│   ├── 09_test_strategy.md
│   ├── 10_frontend_design.md
│   ├── 11_cicd_design.md
│   ├── 12_e2e_test_design.md
│   ├── 13_security_design.md
│   ├── 14_performance_optimization.md
│   └── 15_performance_monitoring.md
├── 02_design_system/              # デザインシステム（5個）
│   ├── 00_basic_design.md
│   ├── 01_design_principles.md
│   ├── 02_component_design.md
│   ├── 03_animation_system.md
│   └── 04_layout_system.md
└── 03_library_docs/               # ライブラリ対策（4個）

```

## 技術設計ドキュメント（15個）の役割
技術設計は、開発の骨格となる部分です。それぞれのドキュメントがどんな役割を果たしているか、詳しく見ていきましょう！

### アーキテクチャから始まる基盤設計
01_architecture_design.md
システム全体の設計思想を定義しています。私はDDDとClean Architectureを採用することが多いんですが、このドキュメントでは「なぜその設計を選んだのか」「各レイヤーの責任は何か」を明確にしています。

これがあることで、Claude Codeに「このロジックはどこに書くべき？」と迷わせることがなくなりました。たとえば、「ビジネスロジックはdomainレイヤー、DBアクセスはinfrastructureレイヤー」という明確な指針があれば、AIも迷わず適切な場所にコードを生成してくれます。

02_database_design.md
ER図とテーブル定義を詳細に記載しています。カラム名の命名規則、インデックスの方針、リレーションの制約など、データベース設計で決めるべきことは意外と多いんです。これを事前に決めておかないと、後からマイグレーションの嵐になってしまいます。

03_api_design.md
RESTful APIの設計書です。エンドポイントの命名規則、リクエスト/レスポンスの形式、エラーレスポンスの統一フォーマットなどを定義しています。特に重要なのは、成功時とエラー時のレスポンス形式を統一すること。これによって、フロントエンドでの処理が格段に楽になります。

### 画面とSEOの設計
04_screen_transition_design.md
ユーザーがどのように画面を遷移していくかを定義したドキュメントです。単なる画面一覧ではなく、「どの画面からどの画面へ遷移できるか」「各画面で必要な権限は何か」といった情報も含んでいます。

05_seo_requirements.md
個人開発者にとって特に重要なSEO対策をまとめたものです。メタタグの設定方法、構造化データの実装、サイトマップの生成方法など、検索エンジンからの流入を増やすための施策を具体的に記載しています。

### エラーハンドリングと型定義
06_error_handling_design.md
エラーの分類と処理方法を体系化しています。バリデーションエラー、認証エラー、システムエラーなど、それぞれのエラーに対してどのようなメッセージを表示し、どのようにログを残すかを定義しています。

これがあることで、「このエラーはユーザーに見せていいの？」「ログレベルは何にする？」といった判断に迷うことがなくなりました。

07_type_definitions.md
TypeScriptの型定義に関する設計書です。ドメインモデルの型定義はもちろん、APIレスポンスの型、フォームの型など、アプリケーション全体で使用する型を一元管理しています。

### 開発効率を上げる設計
08_development_setup.md
開発環境のセットアップ手順です。必要なツールのインストール、環境変数の設定、開発用データベースの準備など、新しいメンバー（人間でもAIでも）がすぐに開発を始められるようにしています。

09_test_strategy.md
テスト戦略を定義しています。単体テスト、統合テスト、E2Eテストそれぞれの役割と、どの部分をどれくらいカバーするかの方針を明確にしています。特にTDD（テスト駆動開発）を採用する場合、この設計書は必須です。

10_frontend_design.md
フロントエンドのコンポーネント設計です。コンポーネントの分類（ui/features/layouts）、propsの設計方針、状態管理の方法などを定義しています。

### 運用を見据えた設計
11_cicd_design.md
CI/CDパイプラインの設計を行っています。GitHub Actionsでどのようなチェックを行うか、デプロイの手順、環境ごとの設定などを記載しています。

12_e2e_test_design.md
E2Eテストの設計書です。クリティカルパス（絶対に動いてほしい機能）の定義と、それらをどのようにテストするかを具体的に記載しています。

### セキュリティとパフォーマンス
13_security_design.md
セキュリティに関する設計をまとめています。認証・認可の仕組み、入力値検証、ファイルアップロードの制限など、セキュリティホールを作らないための指針を定義しています。

14_performance_optimization.mdと15_performance_monitoring.
パフォーマンスに関する設計書です。画像の最適化、キャッシュ戦略、Core Web Vitalsの目標値などを定義し、さらにそれらをどのように監視・改善していくかの仕組みも設計しています。

### デザインシステム（5個）の重要性
先述の通り、デザインシステムは、見た目の統一感を保つために欠かせません。

00_basic_design.md
デザインシステムの概要とクイックスタートガイドです。「とりあえずこれを読めば始められる」という位置づけのドキュメントです。

01_design_principles.md
カラーパレット、タイポグラフィ、スペーシングなどの基本的なデザイン原則を定義しています。「プライマリカラーは#3B82F6」「見出しのフォントサイズは2rem」といった具体的な値を決めておくことで、デザインの一貫性が保たれます。

02_component_design.md
UIコンポーネントの詳細設計です。ボタン、カード、フォームなど、よく使うコンポーネントのバリエーションと使い分けを定義しています。

03_animation_system.md
アニメーションの設計を行っています。どんな時にどんなアニメーションを使うか、イージング関数は何を使うか、アニメーションの長さはどれくらいにするかなど、動きに関する統一ルールを定めています。

04_layout_system.md
レイアウトシステムの設計書です。グリッドシステム、ブレークポイント、コンテナの最大幅など、レスポンシブデザインを実現するための基本設計を定義しています。

### ライブラリ対策ドキュメント（4個）の必要性
過去の個人開発で最も時間を無駄にしたのが、ライブラリ固有の問題でハマることでした。

01_shadcn_doc.md
Shadcn UIの全コンポーネントの使い方をまとめたドキュメントです。公式ドキュメントを読めばわかることですが、よく使うパターンや注意点を事前にまとめておくことで、実装時の調査時間を大幅に削減できます。

02_api_football_doc.md
api-footballのAPIの使い方をまとめたドキュメントです。ここから元データを取得します。

03_supabase_auth_storage_vitest.
Supabaseのテストに関するドキュメントです。Supabaseの認証やストレージ機能をテストする際、環境設定やモックの方法で詰まることが多かったので、それらの解決方法を事前にまとめました。

04_nextjs_app_router_patterns.md
Next.js App Routerの実装パターン集です。Server ComponentsとClient Componentsの使い分け、データフェッチングのパターン、エラーハンドリングなど、App Router特有の実装方法をまとめています。
