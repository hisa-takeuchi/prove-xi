# shadcn/ui 開発ガイド

このドキュメントは、`shadcn/ui` を利用してアプリケーションを開発するすべての開発者を対象とした、技術概要とベストプラクティスをまとめたものです。

### 1. 概要と設計思想

`shadcn/ui` は、従来のUIフレームワークとは一線を画すアプローチを採用しています。これはUIコンポーネントの**ライブラリではなく、コレクション**です。

*   **アーキテクチャ**: `shadcn/ui` はnpmパッケージとして依存関係に追加されるものではありません。CLIを通じて、コンポーネントのソースコードが直接プロジェクトのコードベース（例: `/components/ui`）にコピーされます。
*   **完全な所有権 (Full Ownership)**: プロジェクトに追加されたコンポーネントは、外部ライブラリのブラックボックスではなく、開発者が完全に所有・管理するコードとなります。これにより、以下のメリットが生まれます。
    *   ライブラリの破壊的変更を気にする必要がない。
    *   プロジェクト要件に合わせた自由なカスタマイズが可能。
    *   バンドルサイズを最適化しやすい。
*   **思想**: Radix UI（アクセシビリティに優れたヘッドレスUI）とTailwind CSSをベースに構築されています。設定よりも構成（Composition over Configuration）を重視し、柔軟なUI構築を可能にします。

### 2. プロジェクトへの導入 (セットアップ)

`shadcn/ui` CLIを使用して、プロジェクトの初期設定を行います。

#### ステップ1: 前提条件
Next.js、Vite、Remixなど、ReactとTailwind CSSがセットアップされたプロジェクトを用意します。（以下はNext.jsの例）

```bash
# Next.jsプロジェクトの作成例
npx create-next-app@latest my-app --typescript --tailwind --eslint
cd my-app
```

#### ステップ2: 初期化コマンド
プロジェクトのルートで以下のCLIコマンドを実行し、設定ファイル (`components.json`) の生成と、関連ファイルの構成を行います。

```bash
npx shadcn@latest init
```
このコマンドは、`tailwind.config.js`や`globals.css`など、プロジェクトの構成に関する対話的な質問を行い、設定を自動で適用します。

### 3. コンポーネントの管理

#### 3.1. コンポーネントの追加
必要なコンポーネントは `add` コマンドで個別に追加します。

```bash
npx shadcn@latest add <component_name> [options]
```

**例:** `button`と`dialog`コンポーネントを追加する場合

```bash
npx shadcn@latest add button dialog```

この操作により、`button.tsx`や`dialog.tsx`といったコンポーネントファイルと、その依存関係（例: Radix UIパッケージ）がプロジェクトに追加・インストールされます。

#### 3.2. コンポーネントの利用
追加されたコンポーネントは、プロジェクト内のエイリアス（デフォルト: `@/components/ui`）経由でインポートして使用します。

```tsx
import { Button } from "@/components/ui/button";
import {
  Dialog,
  DialogContent,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
} from "@/components/ui/dialog";

function MyComponent() {
  return (
    <Dialog>
      <DialogTrigger asChild>
        <Button variant="outline">Open Dialog</Button>
      </DialogTrigger>
      <DialogContent>
        <DialogHeader>
          <DialogTitle>Dialog Title</DialogTitle>
        </DialogHeader>
        {/* ... Dialog content ... */}
      </DialogContent>
    </Dialog>
  );
}
```

### 4. カスタマイズとベストプラクティス

#### 4.1. スタイリングのカスタマイズ
コンポーネントのルックアンドフィールは、以下の方法で変更します。

1.  **Tailwind CSSクラスの直接編集**: `/components/ui` 内のコンポーネントファイルの `className` を直接編集します。`cva` (Class Variance Authority) を用いて定義された `variants` を変更・追加するのが一般的です。
2.  **CSS変数のオーバーライド**: `globals.css` で定義されているカラーパレットや`border-radius`などのCSS変数を変更することで、アプリケーション全体のテーマを一括で変更できます。

#### 4.2. 機能・構造の拡張
コンポーネントは単なるReactコンポーネントであるため、ロジックの追加、Propsの拡張、内部構造の変更など、あらゆるカスタマイズが可能です。例えば、フォームライブラリと連携させるために`ref`をフォワーディングする、といった変更も自由に行えます。

#### 4.3. CLIの活用
コンポーネントのソースコードは手動でコピーするのではなく、必ず `npx shadcn@latest add` コマンドを使用してください。CLIはコンポーネントの依存関係を解決し、`package.json`に正しく追加する役割も担っています。

#### 4.4. コンポーネントの更新
`shadcn/ui` のコンポーネントがアップデートされた場合、ライブラリではないため自動更新はされません。更新を取り込みたい場合は、`add` コマンドを再度実行することで、ローカルのファイルを上書きできます（この際、ローカルでの変更は失われるため注意が必要です）。差分は公式サイトのGitHubコミットログで確認できます。

### 5. 主要なリファレンス

開発中に頻繁に参照することになる公式ドキュメントです。

*   **コンポーネント一覧**: [https://ui.shadcn.com/docs/components](https://ui.shadcn.com/docs/components)
    *   利用可能な全コンポーネントの使用例、API、ソースコードを確認できます。
*   **インストールガイド**: [https://ui.shadcn.com/docs/installation](https://ui.shadcn.com/docs/installation)
    *   フレームワークごとの詳細なセットアップ手順が記載されています。
*   **CLIリファレンス**: [https://ui.shadcn.com/docs/cli](https://ui.shadcn.com/docs/cli)
    *   `init`, `add` コマンドの詳細なオプションについて説明されています。
*   **テーマ設定**: [https://ui.shadcn.com/docs/theming](https://ui.shadcn.com/docs/theming)
    *   CSS変数を用いたテーマのカスタマイズ方法について解説されています。


## Shadcn/UI 全コンポーネント 完全ガイド

### 1. フォーム & 入力 (Forms & Inputs)

ユーザーからのデータ入力を受け付けるためのコンポーネント群です。

| コンポーネント | 説明 |
| :--- | :--- |
| **Input** | 1行のテキスト入力フィールド。最も基本的なフォーム要素です。 |
| **Textarea** | 複数行のテキスト入力が可能なフィールド。 |
| **Checkbox** | 単一または複数の選択肢をオン/オフで切り替えるためのチェックボックス。 |
| **Radio Group** | 複数の選択肢の中から一つだけを選ぶためのラジオボタンのグループ。 |
| **Select** | ドロップダウンリストから一つの項目を選択するフォームコントロール。 |
| **Switch** | オン/オフの状態を切り替えるためのトグルスイッチ。 |
| **Slider** | 一定の範囲内から一つの値や範囲を選択するためのスライダー。 |
| **Date Picker** | カレンダーUIから日付を選択するためのコンポーネント。 |
| **Combobox** | `Input` と `Select` を組み合わせたもので、入力による検索とドロップダウンからの選択が可能です。 |
| **Input OTP** | ワンタイムパスワード（OTP）などの固定長コード入力に特化した入力フィールド。 |
| **Label** | フォームの入力要素にラベルを付け、アクセシビリティを向上させます。 |
| **React Hook Form** | （コンポーネントではない）`React Hook Form` との連携を容易にするための公式ガイドとサンプルです。 |

### 2. ダイアログ & オーバーレイ (Dialogs & Overlays)

現在のビューの上に情報を表示したり、ユーザーのアクションを要求したりします。

| コンポーネント | 説明 |
| :--- | :--- |
| **Dialog** | 画面の中央に表示されるモーダルウィンドウ。ユーザーに追加情報やアクションを促します。 |
| **Alert Dialog** | ユーザーに重要な確認を求めるモーダル。元に戻せない操作（削除など）の前に使用します。 |
| **Sheet** | 画面の端（左右上下）からスライドインしてくるパネル。メニューや設定画面などに使われます。 |
| **Drawer** | `Sheet`をベースに、主にモバイルデバイスでの使用を想定した画面下部からのドラッグ可能なパネルです。 |
| **Popover** | 特定の要素をクリックした際に、その要素の近くに小さなコンテンツを表示します。 |
| **Hover Card** | 要素にカーソルを合わせた際に、追加情報を表示するカード。 |
| **Tooltip** | アイコンやボタンの機能を補足説明するための小さなテキストを、ホバー時に表示します。 |
| **Toast** | 操作の結果などを通知するメッセージ。 |
| **Sonner** | Toastをより洗練されたUIで表示するためのライブラリで、`shadcn/ui`に統合されています。 |

### 3. データ表示 (Data Display)

情報を整理して分かりやすく表示するためのコンポーネントです。

| コンポーネント | 説明 |
| :--- | :--- |
| **Card** | コンテンツとアクションを一つのまとまりとして表示するコンテナ。ヘッダー、コンテンツ、フッターなどのセクションを持ちます。 |
| **Table** | 行と列で構成されるデータを表示するための基本的なテーブル。 |
| **Data Table** | `Table` を拡張し、ソート、フィルタリング、ページネーションなどの高度な機能を持つテーブル。 |
| **Accordion** | クリックすることでコンテンツを展開・折りたたみできるセクションのリスト。FAQなどに最適です。 |
| **Avatar** | ユーザープロフィール画像を表示するためのコンポーネント。フォールバック用のイニシャル表示機能も持ちます。 |
| **Badge** | ステータスやタグなど、短い情報をハイライト表示するための小さなラベル。 |
| **Calendar** | 日付を表示するためのカレンダー。単体での表示や、Date Pickerの基盤として利用されます。 |
| **Carousel** | 画像やカードなどのコンテンツを、スライドショー形式で表示します。 |
| **Progress** | タスクの進捗状況を視覚的に示すプログレスバー。 |
| **Skeleton** | データ読み込み中に表示するプレースホルダー。コンテンツのレイアウトを事前に示すことでUXを向上させます。 |
| **Chart** | Rechartsをベースにした、棒グラフや線グラフなどを表示するためのグラフコンポーネント。 |
| **Typography** | `h1`, `p`, `blockquote`など、標準的なHTMLテキスト要素に一貫したスタイルを適用するためのコンポーネント群。 |

### 4. ナビゲーション (Navigation)

アプリケーション内の異なるページやセクションへの移動を助けます。

| コンポーネント | 説明 |
| :--- | :--- |
| **Navigation Menu** | Webサイトの主要なナビゲーションを構築するための、ドロップダウン付きのメニューバー。 |
| **Menubar** | デスクトップアプリケーションのような、画面上部のメニューバー（ファイル、編集など）を構築します。 |
| **Dropdown Menu** | ボタンなどをクリックした際に表示される、アクションやリンクのリスト。 |
| **Context Menu** | 要素を右クリックした際に表示されるコンテキストメニュー。 |
| **Tabs** | 関連するコンテンツを複数のタブで切り替えて表示するためのUI。 |
| **Pagination** | 大量のデータを複数のページに分割して表示するためのナビゲーション。 |
| **Breadcrumb** | 現在のページの階層構造を示すパンくずリスト。 |
| **Command** | `Cmd+K`などで起動するコマンドパレットUI。高速な検索やアクション実行に使用します。 |
| **Sidebar** | `Sheet`コンポーネントを利用して実装されるサイドバーのサンプルです。 |

### 5. レイアウト & ユーティリティ (Layout & Utility)

コンテンツの配置や見た目を補助するコンポーネントです。

| コンポーネント | 説明 |
| :--- | :--- |
| **Aspect Ratio** | 画像や動画などのコンテンツを、特定の縦横比を保ったまま表示するコンテナ。 |
| **Separator** | コンテンツやリストの項目を視覚的に区切るための水平または垂直の線。 |
| **Scroll Area** | コンテンツがコンテナに収まらない場合に、スタイリングされたスクロールバーを表示します。 |
| **Collapsible** | 単一のセクションの表示・非表示を切り替えます。 |
| **Resizable** | ドラッグによってサイズを変更できるパネルやコンテナを構築します。 |

### 6. アクション (Actions)

ユーザーが操作するための基本的な要素です。

| コンポーネント | 説明 |
| :--- | :--- |
| **Button** | ユーザーがクリックすることで特定のアクションをトリガーするボタン。 |
| **Toggle** | オン/オフの状態を持つボタン。押された状態とそうでない状態を切り替えます。 |
| **Toggle Group** | 複数の`Toggle`をグループ化し、一つまたは複数の項目を選択可能な状態にします。 |